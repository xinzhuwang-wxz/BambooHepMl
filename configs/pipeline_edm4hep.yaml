# Unified pipeline configuration for EDM4hep experiments.
# Task type is selected at runtime; this file provides shared defaults.
# Experiment naming: {task_type}_{model_type}
# Run naming: {model_type}_{timestamp}

data:
  source_path: "testdata/sim_*.root"
  features_config: "configs/features_edm4hep.yaml"
  train_range: [0.0, 0.7]
  val_range: [0.7, 0.85]
  test_range: [0.85, 1.0]

model:
  hidden_dims: [128, 64, 32]
  dropout: 0.1
  activation: relu
  batch_norm: true
  embed_dim: 64

training:
  num_epochs: 5
  batch_size: 128
  learning_rate: 0.001
  optimizer: adam
  weight_decay: 0.0
  scheduler:
    name: reduce_on_plateau
    patience: 5
    factor: 0.5
  early_stopping:
    patience: 10
    monitor: val_loss
    mode: min
  seed: 42

output:
  base_dir: "outputs/edm4hep"
  save_best: true
  save_predictions: true
  export_root: true

mlflow:
  enabled: true
  tracking_uri: null  # null = local file store under output.base_dir/mlruns

feature_fitting:
  fit_on_training: true
  fit_samples: 10000
